const $sitelist=$(".sitelist"),$lastli=$sitelist.find("li.last"),x=localStorage.getItem("x"),xObject=JSON.parse(x),hashMap=xObject||[{logo:"A",logoType:"text",url:"https://www.acfun.cn"},{logo:"B",logoType:"image",url:"http://www.bilibili.com"},{logo:"I",logoType:"image",url:"http://www.iconfont.cn"}],simplifyurl=l=>l.replace("http://","").replace("https://","").replace("www.","").replace(/\/.*/,""),render=()=>{$sitelist.find("li:not(.last)").remove(),hashMap.forEach(((l,e)=>{const o=$(`<li>\n        \n             <div class = "site">\n                <div class="logo">${l.logo[0]}</div>\n                <div class="link">${simplifyurl(l.url)}</div>\n                <div class="close">\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-close"></use>\n                </svg>\n                </div>\n             </div>\n        \n    </li>`).insertBefore($lastli);o.on("click",(()=>{window.open(l.url)})),o.on("click",".close",(l=>{l.stopPropagation(),console.log(hashMap),hashMap.splice(e,1),render()}))}))};render(),$(".addbutton").on("click",(()=>{let l=window.prompt("请输入你要添加的网址");0!==l.indexOf("http")&&(l="https://"+l),console.log(l),hashMap.push({logo:simplifyurl(l)[0].toUpperCase(),logoType:"text",url:l}),render()})),window.onbeforeunload=()=>{const l=JSON.stringify(hashMap);localStorage.setItem("x",l)};
//# sourceMappingURL=index.b30f4e86.js.map
