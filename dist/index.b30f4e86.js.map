{"mappings":"AAAA,MAAMA,UAAYC,EAAE,aACdC,QAAUF,UAAUG,KAAK,WACzBC,EAAIC,aAAaC,QAAQ,KACzBC,QAAUC,KAAKC,MAAML,GACrBM,QAAUH,SAAU,CACtB,CAAEI,KAAO,IAAKC,SAAU,OAAOC,IAAM,wBACrC,CAAEF,KAAO,IAAIC,SAAU,QAAQC,IAAM,2BACrC,CAAEF,KAAO,IAAKC,SAAU,QAAQC,IAAK,2BAGlCC,YAAcD,GACVA,EAAIE,QAAQ,UAAU,IAC5BA,QAAQ,WAAW,IACnBA,QAAQ,OAAO,IACfA,QAAO,OAAQ,IAGdC,OAAM,KACRhB,UAAUG,KAAK,iBAAiBc,SAChCP,QAAQQ,SAAO,CAAEC,EAAKC,KAClB,MAAMC,EAAKpB,EAAC,wFAgBfkB,EAAAR,KAAA,+CACyBG,YAAIK,EAAAN,8PAOjCS,aAAApB,SAEAmB,EAAAE,GAAA,SAAA,KAEKC,OAAAC,KAAAN,EAAAN,QAGKQ,EAAGE,GAAG,QAAO,UAAmBG,IAC7BA,EAAAC,kBAKCC,QAAMC,IAAAnB,SACNA,QAACoB,OAAYV,EAAQ,GAEtBJ,gBAKbA,yBACeO,GAAG,SAAK,KACpB,IAAAV,EAAAW,OAAaO,OAAW,cAC3B,IAAAlB,EAAAmB,QAAA,UAAAnB,EAAA,WAAAA","sources":["src/main.js"],"sourcesContent":["const $sitelist = $('.sitelist')\r\nconst $lastli = $sitelist.find('li.last')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nconst hashMap = xObject ||[\r\n    { logo : 'A', logoType :'text',url : 'https://www.acfun.cn'},\r\n    { logo : 'B',logoType :'image',url : 'http://www.bilibili.com'},\r\n    { logo : 'I', logoType :'image',url :'http://www.iconfont.cn'}, \r\n\r\n];\r\n const simplifyurl =(url)=>{\r\n    return url.replace('http://','')\r\n    .replace('https://','')\r\n    .replace('www.','')\r\n    .replace(/\\/.*/,'') //删除以/开头的正则表达式\r\n} \r\n\r\nconst render =()=>{\r\n    $sitelist.find('li:not(.last)').remove()\r\n    hashMap.forEach((node,index)=>{ //\r\n        const $li =$(`<li>\r\n        \r\n             <div class = \"site\">\r\n                <div class=\"logo\">${node.logo[0]}</div>\r\n                <div class=\"link\">${simplifyurl(node.url)}</div>\r\n                <div class=\"close\">\r\n                <svg class=\"icon\" aria-hidden=\"true\">\r\n                    <use xlink:href=\"#icon-close\"></use>\r\n                </svg>\r\n                </div>\r\n             </div>\r\n        \r\n    </li>`).insertBefore($lastli);\r\n   \r\n    $li.on('click',()=>{\r\n        window.open(node.url)\r\n    })\r\n    $li.on('click','.close',(e)=>{\r\n        e.stopPropagation()//阻止冒泡\r\n        console.log(hashMap)\r\n        hashMap.splice(index,1)///删除1个index的序号\r\n        render()\r\n    })\r\n   \r\n});\r\n    \r\n}\r\n\r\nrender()\r\n$('.addbutton')\r\n    .on('click',()=>{\r\n       let url = window.prompt('请输入你要添加的网址');\r\n       if(url.indexOf('http')!==0){\r\n        url = 'https://' + url;\r\n       }\r\n           \r\n       console.log(url);\r\n       hashMap.push({\r\n           logo:simplifyurl(url)[0].toUpperCase(),\r\n           logoType:\"text\",\r\n           url:url\r\n       });\r\n       \r\n       render()\r\n    });\r\n window.onbeforeunload =()=>{\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x',string)\r\n}  "],"names":["$sitelist","$","$lastli","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","logoType","url","simplifyurl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","console","log","splice","prompt","indexOf"],"version":3,"file":"index.b30f4e86.js.map"}